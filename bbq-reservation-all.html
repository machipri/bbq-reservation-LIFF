<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BBQäºˆç´„ãƒ•ã‚©ãƒ¼ãƒ </title>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #f5f5f5;
            min-height: 100vh;
        }
        
        /* ã‚¿ãƒ–ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .tab-container {
            display: flex;
            background: #fff;
            border-bottom: 2px solid #4CAF50;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .tab-button {
            flex: 1;
            padding: 15px 10px;
            background: #f5f5f5;
            border: none;
            border-bottom: 3px solid transparent;
            font-size: 13px;
            font-weight: bold;
            color: #666;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            line-height: 1.3;
        }
        
        .tab-button.active {
            background: white;
            border-bottom: 3px solid #4CAF50;
            color: #2E7D32;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .container {
            max-width: 450px;
            margin: 0 auto;
            background: white;
            min-height: calc(100vh - 60px);
        }
        
        /* ãƒ˜ãƒƒãƒ€ãƒ¼ with ã‚¹ãƒ©ã‚¤ãƒ‰ã‚·ãƒ§ãƒ¼ */
        .header {
            position: relative;
            height: 200px;
            overflow: hidden;
        }
        
        .header-slideshow {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        
        .slide {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 1.5s ease-in-out;
            background-size: cover;
            background-position: center;
        }
        
        .slide.active {
            opacity: 1;
        }
        
        /* 1åº—èˆ—ç›®ã®ç”»åƒ */
        #tab1 .slide:nth-child(1) { 
            background-image: url('https://raw.githubusercontent.com/machipri/bbq-images/main/minoh-main1.jpg');
        }
        #tab1 .slide:nth-child(2) { 
            background-image: url('https://raw.githubusercontent.com/machipri/bbq-images/main/minoh-main2.jpg');
        }
        #tab1 .slide:nth-child(3) { 
            background-image: url('https://raw.githubusercontent.com/machipri/bbq-images/main/minol-main3.jpg');
        }
        
        /* 2åº—èˆ—ç›®ã®ç”»åƒ */
        #tab2 .slide:nth-child(1) { 
            background-image: url('https://raw.githubusercontent.com/machipri/bbq-images/main/settukyomain5.jpg');
        }
        #tab2 .slide:nth-child(2) { 
            background-image: url('https://raw.githubusercontent.com/machipri/bbq-images/main/settukyomain2.jpg');
        }
        #tab2 .slide:nth-child(3) { 
            background-image: url('https://raw.githubusercontent.com/machipri/bbq-images/main/settukyomain4.jpg');
        }
        
        .header-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .header-content {
            text-align: center;
            color: white;
        }
        
        .header h1 {
            font-size: 24px;
            margin-bottom: 8px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .header p {
            font-size: 14px;
            opacity: 0.95;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        
        /* ä¼šå ´æƒ…å ± */
        .venue-info {
            padding: 15px;
            background: #E8F5E9;
            border-bottom: 2px solid #4CAF50;
        }
        
        .venue-description {
            font-size: 13px;
            color: #555;
            margin-bottom: 10px;
            line-height: 1.5;
        }
        
        .venue-features {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
        }
        
        .venue-feature {
            background: white;
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 11px;
            color: #2E7D32;
            border: 1px solid #4CAF50;
        }
        
        /* ãƒ•ã‚©ãƒ¼ãƒ  */
        .form-container {
            padding: 20px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 6px;
            color: #333;
            font-weight: 600;
            font-size: 14px;
        }
        
        .required {
            color: #d32f2f;
            font-size: 11px;
            margin-left: 5px;
        }
        
        .form-group input,
        .form-group select {
            width: 100%;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            background: white;
            -webkit-appearance: none;
        }
        
        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #4CAF50;
        }
        
        /* æ°åå…¥åŠ›ã‚°ãƒ«ãƒ¼ãƒ— */
        .name-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        
        .name-input-wrapper {
            position: relative;
        }
        
        .name-label {
            display: block;
            margin-bottom: 4px;
            color: #666;
            font-weight: normal;
            font-size: 12px;
        }
        
        /* æ–™é‡‘è¡¨ç¤º */
        .price-info {
            background: #FFF3E0;
            padding: 10px;
            border-radius: 8px;
            font-size: 12px;
            margin-top: 5px;
            line-height: 1.6;
        }
        
        .price-info strong {
            color: #E65100;
        }
        
        /* äººæ•°å…¥åŠ›ã‚°ãƒ«ãƒ¼ãƒ— */
        .number-group {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 10px;
        }
        
        .number-input {
            text-align: center;
        }
        
        .number-input label {
            font-size: 11px;
            margin-bottom: 4px;
        }
        
        .number-input select {
            padding: 8px;
            text-align: center;
            font-size: 14px;
        }
        
        /* äººæ•°åˆ¶é™ã®æ³¨æ„æ›¸ã */
        .number-notice {
            background: #E3F2FD;
            padding: 10px;
            border-radius: 6px;
            font-size: 11px;
            color: #1565C0;
            margin-top: 10px;
            line-height: 1.5;
        }
        
        /* ã‚ªãƒ—ã‚·ãƒ§ãƒ³ with ç”»åƒ */
        .option-with-image {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 10px;
        }
        
        .option-image {
            width: 80px;
            height: 60px;
            border-radius: 8px;
            object-fit: cover;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 10px;
            text-align: center;
            flex-shrink: 0;
        }
        
        .option-select-wrapper {
            flex: 1;
        }
        
        .option-description {
            background: #F5F5F5;
            padding: 10px;
            border-radius: 6px;
            font-size: 11px;
            color: #666;
            margin: 8px 0;
            line-height: 1.5;
        }
        
        /* è¦‹ç©ã‚‚ã‚Šè¡¨ç¤º */
        .estimate-box {
            background: linear-gradient(135deg, #FFE082 0%, #FFD54F 100%);
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .estimate-title {
            font-size: 14px;
            font-weight: bold;
            color: #F57C00;
            margin-bottom: 10px;
        }
        
        .estimate-item {
            display: flex;
            justify-content: space-between;
            margin: 5px 0;
            font-size: 13px;
            color: #333;
        }
        
        .estimate-total {
            border-top: 2px solid #F57C00;
            margin-top: 10px;
            padding-top: 10px;
            font-size: 18px;
            font-weight: bold;
            color: #E65100;
            display: flex;
            justify-content: space-between;
        }
        
        /* ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒãƒªã‚·ãƒ¼ */
        .cancel-policy {
            background: #E3F2FD;
            padding: 12px;
            border-radius: 8px;
            margin: 15px 0;
            font-size: 12px;
            line-height: 1.6;
        }
        
        .cancel-policy-title {
            font-weight: bold;
            color: #1565C0;
            margin-bottom: 5px;
        }
        
        /* ãƒœã‚¿ãƒ³ */
        .submit-btn, .confirm-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
            transition: all 0.3s;
        }
        
        .submit-btn:active, .confirm-btn:active {
            transform: scale(0.98);
        }
        
        .submit-btn:disabled, .confirm-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            box-shadow: none;
        }
        
        .back-btn {
            width: 100%;
            padding: 12px;
            background: white;
            color: #666;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 10px;
        }
        
        /* ç¢ºèªç”»é¢ */
        .confirmation-screen {
            display: none;
            padding: 20px;
        }
        
        .confirmation-title {
            font-size: 18px;
            font-weight: bold;
            color: #2E7D32;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .confirmation-box {
            background: #F5F5F5;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .confirmation-item {
            display: flex;
            margin: 10px 0;
            font-size: 14px;
        }
        
        .confirmation-label {
            font-weight: bold;
            color: #666;
            width: 100px;
            flex-shrink: 0;
        }
        
        .confirmation-value {
            color: #333;
            flex: 1;
        }
        
        /* ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ */
        .success-message {
            background: #C8E6C9;
            color: #1B5E20;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            display: none;
            text-align: center;
        }
        
        /* ã‚¨ãƒ©ãƒ¼è¡¨ç¤º */
        .error-text {
            color: #d32f2f;
            font-size: 11px;
            margin-top: 5px;
            display: none;
        }
    </style>
</head>
<body>
    <!-- ã‚¿ãƒ–ãƒœã‚¿ãƒ³ -->
    <div class="tab-container">
        <button class="tab-button active" onclick="switchTab(1)">
            ã€ç®•é¢ æ­¢ã€…å‘‚ç¾ã€‘<br>å·ã¨BBQã®<br>ã‚­ãƒ£ãƒ³ãƒ—ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
        </button>
        <button class="tab-button" onclick="switchTab(2)">
            ã€é«˜æ§» æ‘‚æ´¥å³¡ã€‘<br>å·ã¨æ£®ã®<br>ãƒãƒ¼ãƒ™ã‚­ãƒ¥ãƒ¼ãƒ©ãƒ³ãƒ‰
        </button>
    </div>
    
    <!-- ã‚¿ãƒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„1ï¼šå·ã¨BBQã®ã‚­ãƒ£ãƒ³ãƒ—ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ -->
    <div id="tab1" class="tab-content active">
        <div class="container">
            <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ with ã‚¹ãƒ©ã‚¤ãƒ‰ã‚·ãƒ§ãƒ¼ -->
            <div class="header">
                <div class="header-slideshow" id="slideshow1">
                    <div class="slide active"></div>
                    <div class="slide"></div>
                    <div class="slide"></div>
                </div>
                <div class="header-overlay">
                    <div class="header-content">
                        <h1>ã€ç®•é¢ æ­¢ã€…å‘‚ç¾ã€‘<br>å·ã¨BBQã®ã‚­ãƒ£ãƒ³ãƒ—ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰</h1>
                    </div>
                </div>
            </div>
            
            <!-- ä¼šå ´æƒ…å ± -->
            <div class="venue-info">
                <p class="venue-description">
                    å¸‚å†…ã‹ã‚‰è»Šã§25åˆ†ã®å¥½ç«‹åœ°ï¼<br>
                    å¤§è‡ªç„¶ã®ä¸­ã§å·éŠã³ã¨ãƒãƒ¼ãƒ™ã‚­ãƒ¥ãƒ¼ã‚’ãŠæ¥½ã—ã¿ã„ãŸã ã‘ã¾ã™ï¼
                </p>
                <div class="venue-features">
                    <span class="venue-feature">ğŸš— é§è»Šå ´70å°</span>
                    <span class="venue-feature">ğŸš» æ°´æ´—ãƒˆã‚¤ãƒ¬</span>
                    <span class="venue-feature">ğŸ§– ãƒ†ãƒ³ãƒˆã‚µã‚¦ãƒŠ</span>
                    <span class="venue-feature">ğŸŒ™ ãƒŠã‚¤ãƒˆBBQ</span>
                </div>
            </div>
            
            <!-- äºˆç´„ãƒ•ã‚©ãƒ¼ãƒ  -->
            <div class="form-container" id="formContainer">
                <div id="successMessage" class="success-message">
                    âœ… äºˆç´„ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã—ã¾ã—ãŸï¼<br>
                    ç¢ºå®šé€£çµ¡ã‚’ãŠå¾…ã¡ãã ã•ã„ã€‚
                </div>
                
                <form id="reservationForm">
                    <div class="form-group">
                        <label>ğŸ“… åˆ©ç”¨æ—¥<span class="required">å¿…é ˆ</span></label>
                        <input type="date" id="date" required onchange="checkFormValidity()">
                    </div>
                    
                    <div class="form-group">
                        <label>â° åˆ©ç”¨æ™‚é–“ï¼ˆ4æ™‚é–“åˆ¶ï¼‰<span class="required">å¿…é ˆ</span></label>
                        <select id="timeSlot" required onchange="checkFormValidity()">
                            <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                            <option value="9:00~13:00">9:00~13:00</option>
                            <option value="9:30~13:30">9:30~13:30</option>
                            <option value="10:00~14:00">10:00~14:00</option>
                            <option value="10:30~14:30">10:30~14:30</option>
                            <option value="11:00~15:00">11:00~15:00</option>
                            <option value="11:30~15:30">11:30~15:30</option>
                            <option value="12:00~16:00">12:00~16:00</option>
                            <option value="12:30~16:30">12:30~16:30</option>
                            <option value="13:00~17:00">13:00~17:00</option>
                            <option value="13:30~17:30">13:30~17:30</option>
                            <option value="14:00~18:00">14:00~18:00</option>
                            <option value="14:30~18:00">14:30~18:00</option>
                            <option value="15:00~18:00">15:00~18:00</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>ğŸ“‹ ãƒ—ãƒ©ãƒ³<span class="required">å¿…é ˆ</span></label>
                        <select id="plan" required onchange="updateEstimate(); checkFormValidity()">
                            <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                            <option value="å™¨æã®ã¿ãƒ¬ãƒ³ã‚¿ãƒ«">å™¨æã®ã¿ãƒ¬ãƒ³ã‚¿ãƒ«</option>
                            <option value="é£Ÿæä»˜ã">é£Ÿæä»˜ã</option>
                        </select>
                        <div class="price-info">
                            <strong>ã€æ–™é‡‘ã€‘</strong><br>
                            é£Ÿæä»˜ã: å¤§äºº3,500å†† / å­ä¾›2,700å†† / å¹¼å…ç„¡æ–™<br>
                            å™¨æã®ã¿: å¤§äºº1,800å†† / å­ä¾›1,000å†† / å¹¼å…ç„¡æ–™
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>ğŸ‘¥ äººæ•°<span class="required">å¿…é ˆ</span></label>
                        <div class="number-group">
                            <div class="number-input">
                                <label>å¤§äºº<br>(ä¸­å­¦ç”Ÿä»¥ä¸Š)</label>
                                <select id="adults" required onchange="updateEstimate(); checkFormValidity()">
                                    <option value="0">é¸æŠ</option>
                                    <option value="2">2äºº</option>
                                    <option value="3">3äºº</option>
                                    <option value="4">4äºº</option>
                                    <option value="5">5äºº</option>
                                    <option value="6">6äºº</option>
                                    <option value="7">7äºº</option>
                                    <option value="8">8äºº</option>
                                    <option value="9">9äºº</option>
                                    <option value="10">10äºº</option>
                                    <option value="11">11äºº</option>
                                    <option value="12">12äºº</option>
                                    <option value="13">13äºº</option>
                                    <option value="14">14äºº</option>
                                    <option value="15">15äºº</option>
                                    <option value="16">16äºº</option>
                                    <option value="17">17äºº</option>
                                    <option value="18">18äºº</option>
                                    <option value="19">19äºº</option>
                                    <option value="20">20äºº</option>
                                    <option value="25">25äºº</option>
                                    <option value="30">30äºº</option>
                                    <option value="35">35äºº</option>
                                    <option value="40">40äºº</option>
                                    <option value="45">45äºº</option>
                                    <option value="50">50äºº</option>
                                </select>
                            </div>
                            <div class="number-input">
                                <label>å­ä¾›<br>(4æ­³ã€œå°å­¦ç”Ÿ)</label>
                                <select id="children" onchange="updateEstimate(); checkFormValidity()">
                                    <option value="0">0äºº</option>
                                    <option value="1">1äºº</option>
                                    <option value="2">2äºº</option>
                                    <option value="3">3äºº</option>
                                    <option value="4">4äºº</option>
                                    <option value="5">5äºº</option>
                                    <option value="6">6äºº</option>
                                    <option value="7">7äºº</option>
                                    <option value="8">8äºº</option>
                                    <option value="9">9äºº</option>
                                    <option value="10">10äºº</option>
                                    <option value="15">15äºº</option>
                                    <option value="20">20äºº</option>
                                    <option value="25">25äºº</option>
                                    <option value="30">30äºº</option>
                                    <option value="35">35äºº</option>
                                    <option value="40">40äºº</option>
                                    <option value="45">45äºº</option>
                                    <option value="48">48äºº</option>
                                </select>
                            </div>
                            <div class="number-input">
                                <label>å¹¼å…<br>(3æ­³ä»¥ä¸‹)</label>
                                <select id="infants" onchange="updateEstimate(); checkFormValidity()">
                                    <option value="0">0äºº</option>
                                    <option value="1">1äºº</option>
                                    <option value="2">2äºº</option>
                                    <option value="3">3äºº</option>
                                    <option value="4">4äºº</option>
                                    <option value="5">5äºº</option>
                                    <option value="6">6äºº</option>
                                    <option value="7">7äºº</option>
                                    <option value="8">8äºº</option>
                                    <option value="9">9äºº</option>
                                    <option value="10">10äºº</option>
                                    <option value="15">15äºº</option>
                                    <option value="20">20äºº</option>
                                    <option value="25">25äºº</option>
                                    <option value="30">30äºº</option>
                                    <option value="35">35äºº</option>
                                    <option value="40">40äºº</option>
                                    <option value="45">45äºº</option>
                                    <option value="48">48äºº</option>
                                </select>
                            </div>
                        </div>
                        <div class="number-notice">
                            â€» å¤§äºº2äººä»¥ä¸Šã‹ã‚‰ã”äºˆç´„å¯èƒ½ã§ã™
                        </div>
                        <div class="error-text" id="numberError"></div>
                    </div>
                    
                    <div class="form-group">
                        <label>ğŸ‘¤ ä»£è¡¨è€…æ°å<span class="required">å¿…é ˆ</span></label>
                        <div class="name-group">
                            <div class="name-input-wrapper">
                                <span class="name-label">ï¼ˆå§“ï¼‰</span>
                                <input type="text" id="lastName" required placeholder="ã§ã‚Šã§ã‚Š" onkeyup="checkFormValidity()">
                            </div>
                            <div class="name-input-wrapper">
                                <span class="name-label">ï¼ˆåï¼‰</span>
                                <input type="text" id="firstName" required placeholder="å¤ªéƒ" onkeyup="checkFormValidity()">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>ğŸ“ æºå¸¯é›»è©±ç•ªå·<span class="required">å¿…é ˆ</span></label>
                        <input type="tel" id="phone" required placeholder="090-1234-5678" onkeyup="checkFormValidity()">
                    </div>
                    
                    <div class="form-group">
                        <label>â›º ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼šã‚¿ãƒ¼ãƒ—ãƒ†ãƒ³ãƒˆï¼ˆ1æœ¬2,000å††ï¼‰</label>
                        <div class="option-with-image">
                          <img src="https://raw.githubusercontent.com/machipri/bbq-images/main/tarp.jpg" alt="ã‚¿ãƒ¼ãƒ—ãƒ†ãƒ³ãƒˆ" class="option-image">
                            <div class="option-select-wrapper">
                                <select id="optionTarp" onchange="updateEstimate()">
                                    <option value="0">ãªã—</option>
                                    <option value="1">1æœ¬</option>
                                    <option value="2">2æœ¬</option>
                                    <option value="3">3æœ¬</option>
                                    <option value="4">4æœ¬</option>
                                    <option value="5">5æœ¬</option>
                                </select>
                            </div>
                        </div>
                        <div class="option-description">
                            è¶³ã¤ãã®å±‹æ ¹3mÃ—3mï¼ˆ1æœ¬ã§12åã¾ã§ï¼‰1æœ¬2,000å††ï¼ˆç¨è¾¼ï¼‰ã«ã¦ãƒ¬ãƒ³ã‚¿ãƒ«å¯èƒ½ã§ã™ã€‚
                            ã”æ³¨æ–‡ã„ãŸã ã‘ã‚Œã°è¨­ç½®ã¾ã§è¡Œã„ã¾ã™ã€‚<br>
                            â€»æœ¨é™°ç­‰æ—¥é™¤ã‘ã«ãªã‚‹å ´æ‰€ãŒã‚ã‚Šã¾ã›ã‚“ã€‚<br>
                            â€»å½“æ—¥ã§ã¯ãƒ¬ãƒ³ã‚¿ãƒ«ã§ããªã„å ´åˆã‚‚ã”ã–ã„ã¾ã™ã®ã§äº‹å‰ã«ã”é€£çµ¡ãã ã•ã„ã€‚<br>
                            â€»ç¹å¿™æœŸã¯10åã§2æœ¬ãƒ¬ãƒ³ã‚¿ãƒ«ã§ããªã„å ´åˆã‚‚ã”ã–ã„ã¾ã™ã€‚
                        </div>
                    </div>
                    
                    <!-- è¦‹ç©ã‚‚ã‚Šè¡¨ç¤º -->
                    <div class="estimate-box" id="estimateBox" style="display:none;">
                        <div class="estimate-title">ğŸ’° ç¾åœ¨ã®ãŠè¦‹ç©ã‚Šé‡‘é¡</div>
                        <div id="estimateDetails"></div>
                        <div class="estimate-total">
                            <span>åˆè¨ˆé‡‘é¡</span>
                            <span id="totalAmount">Â¥0</span>
                        </div>
                    </div>
                    
                    <!-- ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒãƒªã‚·ãƒ¼ -->
                    <div class="cancel-policy">
                        <div class="cancel-policy-title">ğŸ“Œ ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒ»äººæ•°æ¸›å°‘ã«ã¤ã„ã¦</div>
                        <strong>å™¨æã®ã¿ãƒ¬ãƒ³ã‚¿ãƒ«:</strong> å‰æ—¥ã®æ­£åˆã¾ã§ç„¡æ–™<br>
                        <strong>é£Ÿæä»˜ãã‚³ãƒ¼ã‚¹:</strong> 2æ—¥å‰ã®æ­£åˆã¾ã§ç„¡æ–™<br>
                        â€»æœŸé™ã‚’éããŸå ´åˆã¯ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ–™ãŒç™ºç”Ÿã—ã¾ã™
                    </div>
                    
                    <button type="button" class="submit-btn" id="submitBtn" onclick="showConfirmation()" disabled>
                        ç¢ºèªç”»é¢ã¸
                    </button>
                </form>
            </div>
            
            <!-- ç¢ºèªç”»é¢ -->
            <div class="confirmation-screen" id="confirmationScreen">
                <div class="confirmation-title">äºˆç´„å†…å®¹ç¢ºèª</div>
                
                <div class="confirmation-box">
                    <div class="confirmation-item">
                        <span class="confirmation-label">ä¼šå ´å</span>
                        <span class="confirmation-value">å·ã¨BBQã®ã‚­ãƒ£ãƒ³ãƒ—ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰</span>
                    </div>
                    <div class="confirmation-item">
                        <span class="confirmation-label">åˆ©ç”¨æ—¥</span>
                        <span class="confirmation-value" id="confirmDate"></span>
                    </div>
                    <div class="confirmation-item">
                        <span class="confirmation-label">åˆ©ç”¨æ™‚é–“</span>
                        <span class="confirmation-value" id="confirmTime"></span>
                    </div>
                    <div class="confirmation-item">
                        <span class="confirmation-label">ãƒ—ãƒ©ãƒ³</span>
                        <span class="confirmation-value" id="confirmPlan"></span>
                    </div>
                    <div class="confirmation-item">
                        <span class="confirmation-label">äººæ•°</span>
                        <span class="confirmation-value" id="confirmNumber"></span>
                    </div>
                    <div class="confirmation-item">
                        <span class="confirmation-label">ä»£è¡¨è€…</span>
                        <span class="confirmation-value" id="confirmName"></span>
                    </div>
                    <div class="confirmation-item">
                        <span class="confirmation-label">é›»è©±ç•ªå·</span>
                        <span class="confirmation-value" id="confirmPhone"></span>
                    </div>
                    <div class="confirmation-item" id="confirmTarpRow" style="display:none;">
                        <span class="confirmation-label">ã‚¿ãƒ¼ãƒ—ãƒ†ãƒ³ãƒˆ</span>
                        <span class="confirmation-value" id="confirmTarp"></span>
                    </div>
                </div>
                
                <div class="estimate-box">
                    <div class="estimate-title">ğŸ’° ãŠæ”¯æ‰•ã„äºˆå®šé‡‘é¡</div>
                    <div id="confirmEstimateDetails"></div>
                    <div class="estimate-total">
                        <span>åˆè¨ˆé‡‘é¡</span>
                        <span id="confirmTotalAmount">Â¥0</span>
                    </div>
                </div>
                
                <button type="button" class="confirm-btn" id="confirmBtn" onclick="submitReservation()">
                    äºˆç´„ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡
                </button>
                
                <button type="button" class="back-btn" onclick="backToForm()">
                    å…¥åŠ›å†…å®¹ã‚’ä¿®æ­£ã™ã‚‹
                </button>
            </div>
        </div>
    </div>
    
    <!-- ã‚¿ãƒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„2ï¼šå·ã¨æ£®ã®ãƒãƒ¼ãƒ™ã‚­ãƒ¥ãƒ¼ãƒ©ãƒ³ãƒ‰ -->
    <div id="tab2" class="tab-content">
        <div class="container">
            <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ with ã‚¹ãƒ©ã‚¤ãƒ‰ã‚·ãƒ§ãƒ¼ -->
            <div class="header">
                <div class="header-slideshow" id="slideshow2">
                    <div class="slide active"></div>
                    <div class="slide"></div>
                    <div class="slide"></div>
                </div>
                <div class="header-overlay">
                    <div class="header-content">
                        <h1>ã€é«˜æ§» æ‘‚æ´¥å³¡ã€‘<br>å·ã¨æ£®ã®ãƒãƒ¼ãƒ™ã‚­ãƒ¥ãƒ¼ãƒ©ãƒ³ãƒ‰</h1>
                    </div>
                </div>
            </div>
            
            <!-- ä¼šå ´æƒ…å ± -->
            <div class="venue-info">
                <p class="venue-description">
                    å·éŠã³ã¨ãƒãƒ¼ãƒ™ã‚­ãƒ¥ãƒ¼ãŒ1åº¦ã«æ¥½ã—ã‚ã‚‹è‡ªç„¶è±Šã‹ãªBBQå ´
                </p>
                <div class="venue-features">
                    <span class="venue-feature">ğŸš— é§è»Šå ´160å°</span>
                    <span class="venue-feature">ğŸš» æ°´æ´—ãƒˆã‚¤ãƒ¬</span>
                </div>
            </div>
            
            <!-- äºˆç´„ãƒ•ã‚©ãƒ¼ãƒ  -->
            <div class="form-container" id="formContainer2">
                <div id="successMessage2" class="success-message">
                    âœ… äºˆç´„ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã—ã¾ã—ãŸï¼<br>
                    ç¢ºå®šé€£çµ¡ã‚’ãŠå¾…ã¡ãã ã•ã„ã€‚
                </div>
                
                <form id="reservationForm2">
                    <div class="form-group">
                        <label>ğŸ“… åˆ©ç”¨æ—¥<span class="required">å¿…é ˆ</span></label>
                        <input type="date" id="date2" required onchange="checkFormValidity2()">
                    </div>
                    
                    <div class="form-group">
                        <label>â° åˆ©ç”¨æ™‚é–“ï¼ˆ3æ™‚é–“åˆ¶ â€»9:00ã®ã¿4æ™‚é–“ï¼‰<span class="required">å¿…é ˆ</span></label>
                        <select id="timeSlot2" required onchange="checkFormValidity2()">
                            <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                            <option value="9:00~13:00">9:00~13:00</option>
                            <option value="9:30~13:00">9:30~13:00</option>
                            <option value="10:00~13:00">10:00~13:00</option>
                            <option value="10:30~13:30">10:30~13:30</option>
                            <option value="11:00~14:00">11:00~14:00</option>
                            <option value="11:30~14:30">11:30~14:30</option>
                            <option value="12:00~15:00">12:00~15:00</option>
                            <option value="12:30~15:30">12:30~15:30</option>
                            <option value="13:00~16:00">13:00~16:00</option>
                            <option value="13:30~16:30">13:30~16:30</option>
                            <option value="14:00~17:00">14:00~17:00</option>
                            <option value="14:30~17:30">14:30~17:30</option>
                            <option value="15:00~18:00">15:00~18:00</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>ğŸ“‹ ãƒ—ãƒ©ãƒ³<span class="required">å¿…é ˆ</span></label>
                        <select id="plan2" required onchange="updateEstimate2(); checkFormValidity2()">
                            <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                            <option value="å™¨æã®ã¿ãƒ¬ãƒ³ã‚¿ãƒ«">å™¨æã®ã¿ãƒ¬ãƒ³ã‚¿ãƒ«</option>
                            <option value="é£Ÿæä»˜ã">é£Ÿæä»˜ã</option>
                        </select>
                        <div class="price-info">
                            <strong>ã€æ–™é‡‘ã€‘</strong><br>
                            é£Ÿæä»˜ã: å¤§äºº3,500å†† / å­ä¾›2,700å†† / å¹¼å…ç„¡æ–™<br>
                            å™¨æã®ã¿: å¤§äºº1,800å†† / å­ä¾›1,000å†† / å¹¼å…ç„¡æ–™
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>ğŸ‘¥ äººæ•°<span class="required">å¿…é ˆ</span></label>
                        <div class="number-group">
                            <div class="number-input">
                                <label>å¤§äºº<br>(ä¸­å­¦ç”Ÿä»¥ä¸Š)</label>
                                <select id="adults2" required onchange="updateEstimate2(); checkFormValidity2()">
                                    <option value="0">é¸æŠ</option>
                                    <option value="2">2äºº</option>
                                    <option value="3">3äºº</option>
                                    <option value="4">4äºº</option>
                                    <option value="5">5äºº</option>
                                    <option value="6">6äºº</option>
                                    <option value="7">7äºº</option>
                                    <option value="8">8äºº</option>
                                    <option value="9">9äºº</option>
                                    <option value="10">10äºº</option>
                                    <option value="11">11äºº</option>
                                    <option value="12">12äºº</option>
                                    <option value="13">13äºº</option>
                                    <option value="14">14äºº</option>
                                    <option value="15">15äºº</option>
                                    <option value="16">16äºº</option>
                                    <option value="17">17äºº</option>
                                    <option value="18">18äºº</option>
                                    <option value="19">19äºº</option>
                                    <option value="20">20äºº</option>
                                    <option value="25">25äºº</option>
                                    <option value="30">30äºº</option>
                                    <option value="35">35äºº</option>
                                    <option value="40">40äºº</option>
                                    <option value="45">45äºº</option>
                                    <option value="50">50äºº</option>
                                </select>
                            </div>
                            <div class="number-input">
                                <label>å­ä¾›<br>(4æ­³ã€œå°å­¦ç”Ÿ)</label>
                                <select id="children2" onchange="updateEstimate2(); checkFormValidity2()">
                                    <option value="0">0äºº</option>
                                    <option value="1">1äºº</option>
                                    <option value="2">2äºº</option>
                                    <option value="3">3äºº</option>
                                    <option value="4">4äºº</option>
                                    <option value="5">5äºº</option>
                                    <option value="6">6äºº</option>
                                    <option value="7">7äºº</option>
                                    <option value="8">8äºº</option>
                                    <option value="9">9äºº</option>
                                    <option value="10">10äºº</option>
                                    <option value="15">15äºº</option>
                                    <option value="20">20äºº</option>
                                    <option value="25">25äºº</option>
                                    <option value="30">30äºº</option>
                                    <option value="35">35äºº</option>
                                    <option value="40">40äºº</option>
                                    <option value="45">45äºº</option>
                                    <option value="48">48äºº</option>
                                </select>
                            </div>
                            <div class="number-input">
                                <label>å¹¼å…<br>(3æ­³ä»¥ä¸‹)</label>
                                <select id="infants2" onchange="updateEstimate2(); checkFormValidity2()">
                                    <option value="0">0äºº</option>
                                    <option value="1">1äºº</option>
                                    <option value="2">2äºº</option>
                                    <option value="3">3äºº</option>
                                    <option value="4">4äºº</option>
                                    <option value="5">5äºº</option>
                                    <option value="6">6äºº</option>
                                    <option value="7">7äºº</option>
                                    <option value="8">8äºº</option>
                                    <option value="9">9äºº</option>
                                    <option value="10">10äºº</option>
                                    <option value="15">15äºº</option>
                                    <option value="20">20äºº</option>
                                    <option value="25">25äºº</option>
                                    <option value="30">30äºº</option>
                                    <option value="35">35äºº</option>
                                    <option value="40">40äºº</option>
                                    <option value="45">45äºº</option>
                                    <option value="48">48äºº</option>
                                </select>
                            </div>
                        </div>
                        <div class="number-notice">
                            â€» å¤§äºº2äººä»¥ä¸Šã‹ã‚‰ã”äºˆç´„å¯èƒ½ã§ã™
                        </div>
                        <div class="error-text" id="numberError2"></div>
                    </div>
                    
                    <div class="form-group">
                        <label>ğŸ‘¤ ä»£è¡¨è€…æ°å<span class="required">å¿…é ˆ</span></label>
                        <div class="name-group">
                            <div class="name-input-wrapper">
                                <span class="name-label">ï¼ˆå§“ï¼‰</span>
                                <input type="text" id="lastName2" required placeholder="ã§ã‚Šã§ã‚Š" onkeyup="checkFormValidity2()">
                            </div>
                            <div class="name-input-wrapper">
                                <span class="name-label">ï¼ˆåï¼‰</span>
                                <input type="text" id="firstName2" required placeholder="å¤ªéƒ" onkeyup="checkFormValidity2()">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>ğŸ“ æºå¸¯é›»è©±ç•ªå·<span class="required">å¿…é ˆ</span></label>
                        <input type="tel" id="phone2" required placeholder="090-1234-5678" onkeyup="checkFormValidity2()">
                    </div>
                    
                    <div class="form-group">
                        <label>â›º ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼šã‚¿ãƒ¼ãƒ—ãƒ†ãƒ³ãƒˆï¼ˆ1æœ¬2,000å††ï¼‰</label>
                        <div class="option-with-image">
                           <img src="https://raw.githubusercontent.com/machipri/bbq-images/main/tarp.jpg" alt="ã‚¿ãƒ¼ãƒ—ãƒ†ãƒ³ãƒˆ" class="option-image">
                            <div class="option-select-wrapper">
                                <select id="optionTarp2" onchange="updateEstimate2()">
                                    <option value="0">ãªã—</option>
                                    <option value="1">1æœ¬</option>
                                    <option value="2">2æœ¬</option>
                                    <option value="3">3æœ¬</option>
                                    <option value="4">4æœ¬</option>
                                    <option value="5">5æœ¬</option>
                                </select>
                            </div>
                        </div>
                        <div class="option-description">
                            è¶³ã¤ãã®å±‹æ ¹3mÃ—3mï¼ˆ1æœ¬ã§12åã¾ã§ï¼‰1æœ¬2,000å††ï¼ˆç¨è¾¼ï¼‰ã«ã¦ãƒ¬ãƒ³ã‚¿ãƒ«å¯èƒ½ã§ã™ã€‚
                            ã”æ³¨æ–‡ã„ãŸã ã‘ã‚Œã°è¨­ç½®ã¾ã§è¡Œã„ã¾ã™ã€‚<br>
                            â€»æœ¨é™°ç­‰æ—¥é™¤ã‘ã«ãªã‚‹å ´æ‰€ãŒã‚ã‚Šã¾ã›ã‚“ã€‚<br>
                            â€»å½“æ—¥ã§ã¯ãƒ¬ãƒ³ã‚¿ãƒ«ã§ããªã„å ´åˆã‚‚ã”ã–ã„ã¾ã™ã®ã§äº‹å‰ã«ã”é€£çµ¡ãã ã•ã„ã€‚<br>
                            â€»ç¹å¿™æœŸã¯10åã§2æœ¬ãƒ¬ãƒ³ã‚¿ãƒ«ã§ããªã„å ´åˆã‚‚ã”ã–ã„ã¾ã™ã€‚
                        </div>
                    </div>
                    
                    <!-- è¦‹ç©ã‚‚ã‚Šè¡¨ç¤º -->
                    <div class="estimate-box" id="estimateBox2" style="display:none;">
                        <div class="estimate-title">ğŸ’° ç¾åœ¨ã®ãŠè¦‹ç©ã‚Šé‡‘é¡</div>
                        <div id="estimateDetails2"></div>
                        <div class="estimate-total">
                            <span>åˆè¨ˆé‡‘é¡</span>
                            <span id="totalAmount2">Â¥0</span>
                        </div>
                    </div>
                    
                    <!-- ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒãƒªã‚·ãƒ¼ -->
                    <div class="cancel-policy">
                        <div class="cancel-policy-title">ğŸ“Œ ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒ»äººæ•°æ¸›å°‘ã«ã¤ã„ã¦</div>
                        <strong>å™¨æã®ã¿ãƒ¬ãƒ³ã‚¿ãƒ«:</strong> å‰æ—¥ã®æ­£åˆã¾ã§ç„¡æ–™<br>
                        <strong>é£Ÿæä»˜ãã‚³ãƒ¼ã‚¹:</strong> 2æ—¥å‰ã®æ­£åˆã¾ã§ç„¡æ–™<br>
                        â€»æœŸé™ã‚’éããŸå ´åˆã¯ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ–™ãŒç™ºç”Ÿã—ã¾ã™
                    </div>
                    
                    <button type="button" class="submit-btn" id="submitBtn2" onclick="showConfirmation2()" disabled>
                        ç¢ºèªç”»é¢ã¸
                    </button>
                </form>
            </div>
            
            <!-- ç¢ºèªç”»é¢ -->
            <div class="confirmation-screen" id="confirmationScreen2">
                <div class="confirmation-title">äºˆç´„å†…å®¹ç¢ºèª</div>
                
                <div class="confirmation-box">
                    <div class="confirmation-item">
                        <span class="confirmation-label">ä¼šå ´å</span>
                        <span class="confirmation-value">å·ã¨æ£®ã®ãƒãƒ¼ãƒ™ã‚­ãƒ¥ãƒ¼ãƒ©ãƒ³ãƒ‰</span>
                    </div>
                    <div class="confirmation-item">
                        <span class="confirmation-label">åˆ©ç”¨æ—¥</span>
                        <span class="confirmation-value" id="confirmDate2"></span>
                    </div>
                    <div class="confirmation-item">
                        <span class="confirmation-label">åˆ©ç”¨æ™‚é–“</span>
                        <span class="confirmation-value" id="confirmTime2"></span>
                    </div>
                    <div class="confirmation-item">
                        <span class="confirmation-label">ãƒ—ãƒ©ãƒ³</span>
                        <span class="confirmation-value" id="confirmPlan2"></span>
                    </div>
                    <div class="confirmation-item">
                        <span class="confirmation-label">äººæ•°</span>
                        <span class="confirmation-value" id="confirmNumber2"></span>
                    </div>
                    <div class="confirmation-item">
                        <span class="confirmation-label">ä»£è¡¨è€…</span>
                        <span class="confirmation-value" id="confirmName2"></span>
                    </div>
                    <div class="confirmation-item">
                        <span class="confirmation-label">é›»è©±ç•ªå·</span>
                        <span class="confirmation-value" id="confirmPhone2"></span>
                    </div>
                    <div class="confirmation-item" id="confirmTarpRow2" style="display:none;">
                        <span class="confirmation-label">ã‚¿ãƒ¼ãƒ—ãƒ†ãƒ³ãƒˆ</span>
                        <span class="confirmation-value" id="confirmTarp2"></span>
                    </div>
                </div>
                
                <div class="estimate-box">
                    <div class="estimate-title">ğŸ’° ãŠæ”¯æ‰•ã„äºˆå®šé‡‘é¡</div>
                    <div id="confirmEstimateDetails2"></div>
                    <div class="estimate-total">
                        <span>åˆè¨ˆé‡‘é¡</span>
                        <span id="confirmTotalAmount2">Â¥0</span>
                    </div>
                </div>
                
                <button type="button" class="confirm-btn" id="confirmBtn2" onclick="submitReservation2()">
                    äºˆç´„ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡
                </button>
                
                <button type="button" class="back-btn" onclick="backToForm2()">
                    å…¥åŠ›å†…å®¹ã‚’ä¿®æ­£ã™ã‚‹
                </button>
            </div>
        </div>
    </div>
    
    <script>
        // GAS Web App URLï¼ˆã“ã“ã«å®Ÿéš›ã®URLã‚’è¨­å®šï¼‰
        const GAS_API_URL = 'https://script.google.com/macros/s/YOUR_GAS_DEPLOYMENT_ID/exec';
        
        let liffUserId = '';
        let slideIndex1 = 0;
        let slideIndex2 = 0;
        
        // æ–™é‡‘è¨­å®š
        const PRICES = {
            'é£Ÿæä»˜ã': { adult: 3500, child: 2700, infant: 0 },
            'å™¨æã®ã¿ãƒ¬ãƒ³ã‚¿ãƒ«': { adult: 1800, child: 1000, infant: 0 },
            'tarp': 2000
        };
        
        // ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆé–¢æ•°
        function switchTab(tabNumber) {
            // ã™ã¹ã¦ã®ã‚¿ãƒ–ãƒœã‚¿ãƒ³ã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’éã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã«
            const allButtons = document.querySelectorAll('.tab-button');
            const allContents = document.querySelectorAll('.tab-content');
            
            allButtons.forEach(button => button.classList.remove('active'));
            allContents.forEach(content => content.classList.remove('active'));
            
            // é¸æŠã•ã‚ŒãŸã‚¿ãƒ–ã‚’ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã«
            allButtons[tabNumber - 1].classList.add('active');
            document.getElementById(`tab${tabNumber}`).classList.add('active');
            
            // æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’éè¡¨ç¤º
            document.getElementById('successMessage').style.display = 'none';
            document.getElementById('successMessage2').style.display = 'none';
            
            // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä½ç½®ã‚’ãƒªã‚»ãƒƒãƒˆ
            window.scrollTo(0, 0);
        }
        
        // ã‚¹ãƒ©ã‚¤ãƒ‰ã‚·ãƒ§ãƒ¼ï¼ˆ1åº—èˆ—ç›®ï¼‰
        function startSlideshow1() {
            const slides = document.querySelectorAll('#tab1 .slide');
            setInterval(() => {
                slides[slideIndex1].classList.remove('active');
                slideIndex1 = (slideIndex1 + 1) % slides.length;
                slides[slideIndex1].classList.add('active');
            }, 3000);
        }
        
        // ã‚¹ãƒ©ã‚¤ãƒ‰ã‚·ãƒ§ãƒ¼ï¼ˆ2åº—èˆ—ç›®ï¼‰
        function startSlideshow2() {
            const slides = document.querySelectorAll('#tab2 .slide');
            setInterval(() => {
                slides[slideIndex2].classList.remove('active');
                slideIndex2 = (slideIndex2 + 1) % slides.length;
                slides[slideIndex2].classList.add('active');
            }, 3500); // å°‘ã—æ™‚é–“ã‚’ãšã‚‰ã™
        }
        
        // === 1åº—èˆ—ç›®ã®é–¢æ•° ===
        
        // ãƒ•ã‚©ãƒ¼ãƒ ã®æœ‰åŠ¹æ€§ãƒã‚§ãƒƒã‚¯
        function checkFormValidity() {
            const date = document.getElementById('date').value;
            const timeSlot = document.getElementById('timeSlot').value;
            const plan = document.getElementById('plan').value;
            const adults = parseInt(document.getElementById('adults').value) || 0;
            const lastName = document.getElementById('lastName').value;
            const firstName = document.getElementById('firstName').value;
            const phone = document.getElementById('phone').value;
            
            const submitBtn = document.getElementById('submitBtn');
            
            if (date && timeSlot && plan && adults >= 2 && lastName && firstName && phone) {
                const children = parseInt(document.getElementById('children').value) || 0;
                const infants = parseInt(document.getElementById('infants').value) || 0;
                const totalPeople = adults + children + infants;
                
                if (totalPeople <= 50) {
                    submitBtn.disabled = false;
                } else {
                    submitBtn.disabled = true;
                }
            } else {
                submitBtn.disabled = true;
            }
        }
        
        // è¦‹ç©ã‚‚ã‚Šè¨ˆç®—
        function updateEstimate() {
            const plan = document.getElementById('plan').value;
            const adults = parseInt(document.getElementById('adults').value) || 0;
            const children = parseInt(document.getElementById('children').value) || 0;
            const infants = parseInt(document.getElementById('infants').value) || 0;
            const tarps = parseInt(document.getElementById('optionTarp').value) || 0;
            
            const totalPeople = adults + children + infants;
            const errorElement = document.getElementById('numberError');
            
            if (adults > 0 && adults < 2) {
                errorElement.textContent = 'â€» å¤§äººã¯2äººä»¥ä¸Šã‚’é¸æŠã—ã¦ãã ã•ã„';
                errorElement.style.display = 'block';
            } else if (totalPeople > 50) {
                errorElement.textContent = 'â€» åˆè¨ˆäººæ•°ãŒ50åã‚’è¶…ãˆã¦ã„ã¾ã™ã€‚ãŠé›»è©±ï¼ˆ080-1234-5678ï¼‰ã«ã¦ã”äºˆç´„ãã ã•ã„';
                errorElement.style.display = 'block';
            } else {
                errorElement.style.display = 'none';
            }
            
            if (!plan || adults === 0) {
                document.getElementById('estimateBox').style.display = 'none';
                return;
            }
            
            const prices = PRICES[plan];
            let total = 0;
            let details = '';
            
            if (adults > 0) {
                const adultTotal = adults * prices.adult;
                total += adultTotal;
                details += `<div class="estimate-item">
                    <span>å¤§äºº ${adults}å Ã— Â¥${prices.adult.toLocaleString()}</span>
                    <span>Â¥${adultTotal.toLocaleString()}</span>
                </div>`;
            }
            
            if (children > 0) {
                const childTotal = children * prices.child;
                total += childTotal;
                details += `<div class="estimate-item">
                    <span>å­ä¾› ${children}å Ã— Â¥${prices.child.toLocaleString()}</span>
                    <span>Â¥${childTotal.toLocaleString()}</span>
                </div>`;
            }
            
            if (infants > 0) {
                details += `<div class="estimate-item">
                    <span>å¹¼å… ${infants}å</span>
                    <span>ç„¡æ–™</span>
                </div>`;
            }
            
            if (tarps > 0) {
                const tarpTotal = tarps * PRICES.tarp;
                total += tarpTotal;
                details += `<div class="estimate-item">
                    <span>ã‚¿ãƒ¼ãƒ—ãƒ†ãƒ³ãƒˆ ${tarps}æœ¬ Ã— Â¥${PRICES.tarp.toLocaleString()}</span>
                    <span>Â¥${tarpTotal.toLocaleString()}</span>
                </div>`;
            }
            
            document.getElementById('estimateDetails').innerHTML = details;
            document.getElementById('totalAmount').textContent = 'Â¥' + total.toLocaleString();
            document.getElementById('estimateBox').style.display = 'block';
        }
        
        // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
        function validateForm() {
            const adults = parseInt(document.getElementById('adults').value) || 0;
            const children = parseInt(document.getElementById('children').value) || 0;
            const infants = parseInt(document.getElementById('infants').value) || 0;
            const totalPeople = adults + children + infants;
            
            if (adults < 2) {
                alert('å¤§äººã¯2äººä»¥ä¸Šã‚’é¸æŠã—ã¦ãã ã•ã„');
                return false;
            }
            
            if (totalPeople > 50) {
                alert('åˆè¨ˆäººæ•°ãŒ50åã‚’è¶…ãˆã¦ã„ã¾ã™ã€‚\nãŠé›»è©±ï¼ˆ080-1234-5678ï¼‰ã«ã¦ã”äºˆç´„ãã ã•ã„');
                return false;
            }
            
            const required = ['date', 'timeSlot', 'plan', 'lastName', 'firstName', 'phone'];
            for (let id of required) {
                if (!document.getElementById(id).value) {
                    alert('å¿…é ˆé …ç›®ã‚’ã™ã¹ã¦å…¥åŠ›ã—ã¦ãã ã•ã„');
                    return false;
                }
            }
            
            return true;
        }
        
        // ç¢ºèªç”»é¢è¡¨ç¤º
        function showConfirmation() {
            if (!validateForm()) return;
            
            const adults = parseInt(document.getElementById('adults').value) || 0;
            const children = parseInt(document.getElementById('children').value) || 0;
            const infants = parseInt(document.getElementById('infants').value) || 0;
            const tarps = parseInt(document.getElementById('optionTarp').value) || 0;
            
            document.getElementById('confirmDate').textContent = document.getElementById('date').value;
            document.getElementById('confirmTime').textContent = document.getElementById('timeSlot').value;
            document.getElementById('confirmPlan').textContent = document.getElementById('plan').value;
            document.getElementById('confirmName').textContent = document.getElementById('lastName').value + ' ' + document.getElementById('firstName').value;
            document.getElementById('confirmPhone').textContent = document.getElementById('phone').value;
            
            let numberText = '';
            if (adults > 0) numberText += `å¤§äºº${adults}äºº`;
            if (children > 0) {
                if (numberText) numberText += 'ã€';
                numberText += `å­ä¾›${children}äºº`;
            }
            if (infants > 0) {
                if (numberText) numberText += 'ã€';
                numberText += `å¹¼å…${infants}äºº`;
            }
            document.getElementById('confirmNumber').textContent = numberText;
            
            if (tarps > 0) {
                document.getElementById('confirmTarpRow').style.display = 'flex';
                document.getElementById('confirmTarp').textContent = `${tarps}æœ¬`;
            } else {
                document.getElementById('confirmTarpRow').style.display = 'none';
            }
            
            document.getElementById('confirmEstimateDetails').innerHTML = document.getElementById('estimateDetails').innerHTML;
            document.getElementById('confirmTotalAmount').textContent = document.getElementById('totalAmount').textContent;
            
            document.getElementById('formContainer').style.display = 'none';
            document.getElementById('confirmationScreen').style.display = 'block';
            window.scrollTo(0, 0);
        }
        
        // ãƒ•ã‚©ãƒ¼ãƒ ã«æˆ»ã‚‹
        function backToForm() {
            document.getElementById('confirmationScreen').style.display = 'none';
            document.getElementById('formContainer').style.display = 'block';
            window.scrollTo(0, 0);
        }
        
        // äºˆç´„é€ä¿¡å‡¦ç†
        async function submitReservation() {
            const confirmBtn = document.getElementById('confirmBtn');
            const successMsg = document.getElementById('successMessage');
            
            confirmBtn.disabled = true;
            confirmBtn.textContent = 'é€ä¿¡ä¸­...';
            
            const formData = {
                venueName: 'å·ã¨BBQã®ã‚­ãƒ£ãƒ³ãƒ—ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰',
                date: document.getElementById('date').value,
                timeSlot: document.getElementById('timeSlot').value,
                plan: document.getElementById('plan').value,
                adults: document.getElementById('adults').value,
                children: document.getElementById('children').value,
                infants: document.getElementById('infants').value,
                name: document.getElementById('lastName').value + ' ' + document.getElementById('firstName').value,
                phone: document.getElementById('phone').value,
                optionTarp: document.getElementById('optionTarp').value,
                totalAmount: document.getElementById('totalAmount').textContent,
                userId: liffUserId,
                timestamp: new Date().toISOString()
            };
            
            let numberText = '';
            if (formData.adults > 0) numberText += `å¤§äººï¼ˆä¸­å­¦ç”Ÿä»¥ä¸Šï¼‰${formData.adults}äºº`;
            if (formData.children > 0) {
                if (numberText) numberText += 'ã€';
                numberText += `å­ä¾›ï¼ˆ4æ­³ã€œå°å­¦ç”Ÿï¼‰${formData.children}äºº`;
            }
            if (formData.infants > 0) {
                if (numberText) numberText += 'ã€';
                numberText += `å¹¼å…ï¼ˆ3æ­³ä»¥ä¸‹ï¼‰${formData.infants}äºº`;
            }
            
            let lineMessage = `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;
            lineMessage += `ğŸ“‹ äºˆç´„ãƒªã‚¯ã‚¨ã‚¹ãƒˆå—ä»˜\n`;
            lineMessage += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\n`;
            lineMessage += `ä¼šå ´å: ${formData.venueName}\n`;
            lineMessage += `ä»£è¡¨è€…æ°å: ${formData.name}\n`;
            lineMessage += `äºˆç´„æ—¥æ™‚: ${formData.date} ${formData.timeSlot}\n`;
            lineMessage += `ãƒ—ãƒ©ãƒ³: ${formData.plan}\n`;
            lineMessage += `äººæ•°: ${numberText}\n`;
            
            if (formData.optionTarp > 0) {
                lineMessage += `ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ†ãƒ³ãƒˆ: ${formData.optionTarp}æœ¬\n`;
            }
            
            lineMessage += `\nğŸ’° ãŠè¦‹ç©ã‚Šé‡‘é¡: ${formData.totalAmount}\n`;
            lineMessage += `\nä¸Šè¨˜å†…å®¹ã§ã”äºˆç´„ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘ä»˜ã‘ã¾ã—ãŸã€‚\n\n`;
            lineMessage += `â€»ã”äºˆç´„ã¯å®Œäº†ã—ã¦ãŠã‚Šã¾ã›ã‚“ã®ã§ã€åº—èˆ—ã‹ã‚‰ã®é€£çµ¡ã‚’ãŠå¾…ã¡ãã ã•ã„ã€‚\n`;
            lineMessage += `â€»1æ—¥ã€œ2æ—¥çµŒã£ã¦ã‚‚è¿”ä¿¡ãŒãªã„å ´åˆã€ãŠæ‰‹æ•°ã§ã™ãŒãŠé›»è©±ã«ã¦ã”é€£çµ¡ãã ã•ã„ã€‚\n\n`;
            
            if (formData.plan === 'é£Ÿæä»˜ã') {
                lineMessage += `ğŸ“Œ ã‚­ãƒ£ãƒ³ã‚»ãƒ«ç„¡æ–™æœŸé™: 2æ—¥å‰ã®æ­£åˆã¾ã§\n\n`;
            } else {
                lineMessage += `ğŸ“Œ ã‚­ãƒ£ãƒ³ã‚»ãƒ«ç„¡æ–™æœŸé™: å‰æ—¥ã®æ­£åˆã¾ã§\n\n`;
            }
            
            lineMessage += `ãŠå•ã„åˆã‚ã›: 080-1234-5678`;
            
            try {
                await fetch(GAS_API_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        type: 'liff_bbq_reservation',
                        data: formData
                    })
                });
                
                if (liff.isInClient()) {
                    await liff.sendMessages([{
                        type: 'text',
                        text: lineMessage
                    }]);
                }
                
                document.getElementById('confirmationScreen').style.display = 'none';
                document.getElementById('formContainer').style.display = 'block';
                successMsg.style.display = 'block';
                document.getElementById('reservationForm').reset();
                document.getElementById('estimateBox').style.display = 'none';
                
                document.getElementById('submitBtn').disabled = true;
                window.scrollTo(0, 0);
                
                setTimeout(() => {
                    if (liff.isInClient()) {
                        liff.closeWindow();
                    }
                }, 3000);
                
            } catch (error) {
                console.error('Error:', error);
                alert('é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚');
            } finally {
                confirmBtn.disabled = false;
                confirmBtn.textContent = 'äºˆç´„ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡';
            }
        }
        
        // === 2åº—èˆ—ç›®ã®é–¢æ•° ===
        
        function checkFormValidity2() {
            const date = document.getElementById('date2').value;
            const timeSlot = document.getElementById('timeSlot2').value;
            const plan = document.getElementById('plan2').value;
            const adults = parseInt(document.getElementById('adults2').value) || 0;
            const lastName = document.getElementById('lastName2').value;
            const firstName = document.getElementById('firstName2').value;
            const phone = document.getElementById('phone2').value;
            
            const submitBtn = document.getElementById('submitBtn2');
            
            if (date && timeSlot && plan && adults >= 2 && lastName && firstName && phone) {
                const children = parseInt(document.getElementById('children2').value) || 0;
                const infants = parseInt(document.getElementById('infants2').value) || 0;
                const totalPeople = adults + children + infants;
                
                if (totalPeople <= 50) {
                    submitBtn.disabled = false;
                } else {
                    submitBtn.disabled = true;
                }
            } else {
                submitBtn.disabled = true;
            }
        }
        
        function updateEstimate2() {
            const plan = document.getElementById('plan2').value;
            const adults = parseInt(document.getElementById('adults2').value) || 0;
            const children = parseInt(document.getElementById('children2').value) || 0;
            const infants = parseInt(document.getElementById('infants2').value) || 0;
            const tarps = parseInt(document.getElementById('optionTarp2').value) || 0;
            
            const totalPeople = adults + children + infants;
            const errorElement = document.getElementById('numberError2');
            
            if (adults > 0 && adults < 2) {
                errorElement.textContent = 'â€» å¤§äººã¯2äººä»¥ä¸Šã‚’é¸æŠã—ã¦ãã ã•ã„';
                errorElement.style.display = 'block';
            } else if (totalPeople > 50) {
                errorElement.textContent = 'â€» åˆè¨ˆäººæ•°ãŒ50åã‚’è¶…ãˆã¦ã„ã¾ã™ã€‚ãŠé›»è©±ï¼ˆ080-1234-5678ï¼‰ã«ã¦ã”äºˆç´„ãã ã•ã„';
                errorElement.style.display = 'block';
            } else {
                errorElement.style.display = 'none';
            }
            
            if (!plan || adults === 0) {
                document.getElementById('estimateBox2').style.display = 'none';
                return;
            }
            
            const prices = PRICES[plan];
            let total = 0;
            let details = '';
            
            if (adults > 0) {
                const adultTotal = adults * prices.adult;
                total += adultTotal;
                details += `<div class="estimate-item">
                    <span>å¤§äºº ${adults}å Ã— Â¥${prices.adult.toLocaleString()}</span>
                    <span>Â¥${adultTotal.toLocaleString()}</span>
                </div>`;
            }
            
            if (children > 0) {
                const childTotal = children * prices.child;
                total += childTotal;
                details += `<div class="estimate-item">
                    <span>å­ä¾› ${children}å Ã— Â¥${prices.child.toLocaleString()}</span>
                    <span>Â¥${childTotal.toLocaleString()}</span>
                </div>`;
            }
            
            if (infants > 0) {
                details += `<div class="estimate-item">
                    <span>å¹¼å… ${infants}å</span>
                    <span>ç„¡æ–™</span>
                </div>`;
            }
            
            if (tarps > 0) {
                const tarpTotal = tarps * PRICES.tarp;
                total += tarpTotal;
                details += `<div class="estimate-item">
                    <span>ã‚¿ãƒ¼ãƒ—ãƒ†ãƒ³ãƒˆ ${tarps}æœ¬ Ã— Â¥${PRICES.tarp.toLocaleString()}</span>
                    <span>Â¥${tarpTotal.toLocaleString()}</span>
                </div>`;
            }
            
            document.getElementById('estimateDetails2').innerHTML = details;
            document.getElementById('totalAmount2').textContent = 'Â¥' + total.toLocaleString();
            document.getElementById('estimateBox2').style.display = 'block';
        }
        
        function validateForm2() {
            const adults = parseInt(document.getElementById('adults2').value) || 0;
            const children = parseInt(document.getElementById('children2').value) || 0;
            const infants = parseInt(document.getElementById('infants2').value) || 0;
            const totalPeople = adults + children + infants;
            
            if (adults < 2) {
                alert('å¤§äººã¯2äººä»¥ä¸Šã‚’é¸æŠã—ã¦ãã ã•ã„');
                return false;
            }
            
            if (totalPeople > 50) {
                alert('åˆè¨ˆäººæ•°ãŒ50åã‚’è¶…ãˆã¦ã„ã¾ã™ã€‚\nãŠé›»è©±ï¼ˆ080-1234-5678ï¼‰ã«ã¦ã”äºˆç´„ãã ã•ã„');
                return false;
            }
            
            const required = ['date2', 'timeSlot2', 'plan2', 'lastName2', 'firstName2', 'phone2'];
            for (let id of required) {
                if (!document.getElementById(id).value) {
                    alert('å¿…é ˆé …ç›®ã‚’ã™ã¹ã¦å…¥åŠ›ã—ã¦ãã ã•ã„');
                    return false;
                }
            }
            
            return true;
        }
        
        function showConfirmation2() {
            if (!validateForm2()) return;
            
            const adults = parseInt(document.getElementById('adults2').value) || 0;
            const children = parseInt(document.getElementById('children2').value) || 0;
            const infants = parseInt(document.getElementById('infants2').value) || 0;
            const tarps = parseInt(document.getElementById('optionTarp2').value) || 0;
            
            document.getElementById('confirmDate2').textContent = document.getElementById('date2').value;
            document.getElementById('confirmTime2').textContent = document.getElementById('timeSlot2').value;
            document.getElementById('confirmPlan2').textContent = document.getElementById('plan2').value;
            document.getElementById('confirmName2').textContent = document.getElementById('lastName2').value + ' ' + document.getElementById('firstName2').value;
            document.getElementById('confirmPhone2').textContent = document.getElementById('phone2').value;
            
            let numberText = '';
            if (adults > 0) numberText += `å¤§äºº${adults}äºº`;
            if (children > 0) {
                if (numberText) numberText += 'ã€';
                numberText += `å­ä¾›${children}äºº`;
            }
            if (infants > 0) {
                if (numberText) numberText += 'ã€';
                numberText += `å¹¼å…${infants}äºº`;
            }
            document.getElementById('confirmNumber2').textContent = numberText;
            
            if (tarps > 0) {
                document.getElementById('confirmTarpRow2').style.display = 'flex';
                document.getElementById('confirmTarp2').textContent = `${tarps}æœ¬`;
            } else {
                document.getElementById('confirmTarpRow2').style.display = 'none';
            }
            
            document.getElementById('confirmEstimateDetails2').innerHTML = document.getElementById('estimateDetails2').innerHTML;
            document.getElementById('confirmTotalAmount2').textContent = document.getElementById('totalAmount2').textContent;
            
            document.getElementById('formContainer2').style.display = 'none';
            document.getElementById('confirmationScreen2').style.display = 'block';
            window.scrollTo(0, 0);
        }
        
        function backToForm2() {
            document.getElementById('confirmationScreen2').style.display = 'none';
            document.getElementById('formContainer2').style.display = 'block';
            window.scrollTo(0, 0);
        }
        
        async function submitReservation2() {
            const confirmBtn = document.getElementById('confirmBtn2');
            const successMsg = document.getElementById('successMessage2');
            
            confirmBtn.disabled = true;
            confirmBtn.textContent = 'é€ä¿¡ä¸­...';
            
            const formData = {
                venueName: 'å·ã¨æ£®ã®ãƒãƒ¼ãƒ™ã‚­ãƒ¥ãƒ¼ãƒ©ãƒ³ãƒ‰',
                date: document.getElementById('date2').value,
                timeSlot: document.getElementById('timeSlot2').value,
                plan: document.getElementById('plan2').value,
                adults: document.getElementById('adults2').value,
                children: document.getElementById('children2').value,
                infants: document.getElementById('infants2').value,
                name: document.getElementById('lastName2').value + ' ' + document.getElementById('firstName2').value,
                phone: document.getElementById('phone2').value,
                optionTarp: document.getElementById('optionTarp2').value,
                totalAmount: document.getElementById('totalAmount2').textContent,
                userId: liffUserId,
                timestamp: new Date().toISOString()
            };
            
            let numberText = '';
            if (formData.adults > 0) numberText += `å¤§äººï¼ˆä¸­å­¦ç”Ÿä»¥ä¸Šï¼‰${formData.adults}äºº`;
            if (formData.children > 0) {
                if (numberText) numberText += 'ã€';
                numberText += `å­ä¾›ï¼ˆ4æ­³ã€œå°å­¦ç”Ÿï¼‰${formData.children}äºº`;
            }
            if (formData.infants > 0) {
                if (numberText) numberText += 'ã€';
                numberText += `å¹¼å…ï¼ˆ3æ­³ä»¥ä¸‹ï¼‰${formData.infants}äºº`;
            }
            
            let lineMessage = `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;
            lineMessage += `ğŸ“‹ äºˆç´„ãƒªã‚¯ã‚¨ã‚¹ãƒˆå—ä»˜\n`;
            lineMessage += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\n`;
            lineMessage += `ä¼šå ´å: ${formData.venueName}\n`;
            lineMessage += `ä»£è¡¨è€…æ°å: ${formData.name}\n`;
            lineMessage += `äºˆç´„æ—¥æ™‚: ${formData.date} ${formData.timeSlot}\n`;
            lineMessage += `ãƒ—ãƒ©ãƒ³: ${formData.plan}\n`;
            lineMessage += `äººæ•°: ${numberText}\n`;
            
            if (formData.optionTarp > 0) {
                lineMessage += `ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ†ãƒ³ãƒˆ: ${formData.optionTarp}æœ¬\n`;
            }
            
            lineMessage += `\nğŸ’° ãŠè¦‹ç©ã‚Šé‡‘é¡: ${formData.totalAmount}\n`;
            lineMessage += `\nä¸Šè¨˜å†…å®¹ã§ã”äºˆç´„ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘ä»˜ã‘ã¾ã—ãŸã€‚\n\n`;
            lineMessage += `â€»ã”äºˆç´„ã¯å®Œäº†ã—ã¦ãŠã‚Šã¾ã›ã‚“ã®ã§ã€åº—èˆ—ã‹ã‚‰ã®é€£çµ¡ã‚’ãŠå¾…ã¡ãã ã•ã„ã€‚\n`;
            lineMessage += `â€»1æ—¥ã€œ2æ—¥çµŒã£ã¦ã‚‚è¿”ä¿¡ãŒãªã„å ´åˆã€ãŠæ‰‹æ•°ã§ã™ãŒãŠé›»è©±ã«ã¦ã”é€£çµ¡ãã ã•ã„ã€‚\n\n`;
            
            if (formData.plan === 'é£Ÿæä»˜ã') {
                lineMessage += `ğŸ“Œ ã‚­ãƒ£ãƒ³ã‚»ãƒ«ç„¡æ–™æœŸé™: 2æ—¥å‰ã®æ­£åˆã¾ã§\n\n`;
            } else {
                lineMessage += `ğŸ“Œ ã‚­ãƒ£ãƒ³ã‚»ãƒ«ç„¡æ–™æœŸé™: å‰æ—¥ã®æ­£åˆã¾ã§\n\n`;
            }
            
            lineMessage += `ãŠå•ã„åˆã‚ã›: 080-1234-5678`;
            
            try {
                await fetch(GAS_API_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        type: 'liff_bbq_reservation',
                        data: formData
                    })
                });
                
                if (liff.isInClient()) {
                    await liff.sendMessages([{
                        type: 'text',
                        text: lineMessage
                    }]);
                }
                
                document.getElementById('confirmationScreen2').style.display = 'none';
                document.getElementById('formContainer2').style.display = 'block';
                successMsg.style.display = 'block';
                document.getElementById('reservationForm2').reset();
                document.getElementById('estimateBox2').style.display = 'none';
                
                document.getElementById('submitBtn2').disabled = true;
                window.scrollTo(0, 0);
                
                setTimeout(() => {
                    if (liff.isInClient()) {
                        liff.closeWindow();
                    }
                }, 3000);
                
            } catch (error) {
                console.error('Error:', error);
                alert('é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚');
            } finally {
                confirmBtn.disabled = false;
                confirmBtn.textContent = 'äºˆç´„ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡';
            }
        }
        
        // LIFFåˆæœŸåŒ–
        window.onload = function() {
            // ä»Šæ—¥ã®æ—¥ä»˜ã‚’æœ€å°å€¤ã«è¨­å®š
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('date').min = today;
            document.getElementById('date2').min = today;
            
            // ã‚¹ãƒ©ã‚¤ãƒ‰ã‚·ãƒ§ãƒ¼é–‹å§‹
            startSlideshow1();
            startSlideshow2();
            
            // LIFFåˆæœŸåŒ–
            liff.init({
                liffId: "2008061698-4L1xJzk8" // ã“ã“ã«LIFF IDã‚’è¨­å®š
            }).then(() => {
                if (!liff.isLoggedIn()) {
                    liff.login();
                }
                
                liff.getProfile().then(profile => {
                    liffUserId = profile.userId;
                    console.log('User:', profile.displayName);
                }).catch(err => {
                    console.log('Profile error:', err);
                });
                
            }).catch(err => {
                console.error('LIFF init error:', err);
            });
        };
    </script>
</body>
</html>
